<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">

  <meta name="format-detection" content="telephone=no" />

  <title>Magitism: The Force of Magic, a novel by Will Brall</title>
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">

  <meta property="fb:app_id" content="665631111375397" />
  <meta property="og:url" href="https://magitism.com">
  <meta property="og:site_name" content="Magitism: The Force of Magic, a novel by Will Brall" />
  <meta property="og:type" content="website" />

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="https://magitism.com">

  <meta name="description" content="The website for all things related to the Magitism series by Will Brall">
  <meta name="keywords" content="magitism, magic, magiton, will brall, author, book, novel, science fiction, fantasy, science fantasy, hard science fiction, hard fantasy, hard science fantasy, ziz">

  <meta property="og:title" content="Magitism: The Force of Magic, a novel by Will Brall" />
  <meta property="og:description" content="The website for all things related to the Magitism series by Will Brall" />
  <meta property="og:image" content="https://magitism.com/img/share4.jpg" />

  <meta name="twitter:title" content="Magitism: The Force of Magic, a novel by Will Brall">
  <meta name="twitter:description" content="The website for all things related to the Magitism series by Will Brall">
  <meta name="twitter:image" content="Magitism: The Force of Magic, a novel by Will Brall">
  <meta name="twitter:image:src" content="https://magitism.com/img/share4.jpg">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital@0;1&display=swap" rel="stylesheet">

  <link rel="preload" href="styles.css?v=2" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="styles.css?v=2"></noscript>

  <style>
    @font-face { font-family: 'Laser Corps'; src: url('LaserCorps.woff2') format('woff2'), url('LaserCorps.woff') format('woff'); font-weight: normal; font-style: normal; font-display: swap; }

    html { background: #131314; background-attachment: fixed; color: rgba(52, 171, 235, 1); text-shadow: 1px 1px 1px #000; font-family: 'Crimson Pro', serif; font-size: 62.5%; width: 100vw; overflow-x: hidden; }
    body { font-size: 2.4rem; /* background: url('img/stars.png'); */ background-attachment: fixed; background-size: 100%; background-position: 0px 0px; }

    a { color: rgba(52, 171, 235, 1); }
    a:active, a:visited { color: rgba(38, 138, 192, 1); }
    a:hover { color: rgba(21, 93, 133, 1); }

    a:hover img { filter: brightness(0.8); }

    h1, h2, h3, h4, h5, h6, label { color: #ffcc22; font-family: 'Laser Corps', sans-serif; margin: 0; text-shadow: 5px 5px 0vw #000; font-weight: 100; }
    h5 { font-size: 3rem; }
    h4 { font-size: 4rem; }
    h3 { font-size: 5rem; }
    h2 { font-size: 6rem; }
    h1 { font-size: 7rem; }

    h2 a { text-decoration: none; }

    .big { font-size: 10rem; text-align: center; position: relative; z-index: 10; color: #fb8839; }

    figure { margin: 0; }

    .cta { position: relative; z-index: 10; display: grid; grid-template-columns: 1fr 1fr 1fr; }
    .cta a { text-align: center; text-decoration: none; }
    .cta a * { color: rgba(52, 171, 235, 1); }
    .cta a:active *, .cta a:visited * { color: rgba(38, 138, 192, 1); }
    .cta a:hover * { color: rgba(21, 93, 133, 1); }
    .cta a img { max-width: 80%; margin-top: 3rem; }

    .paperback img { position: relative; left: 3rem; }

    img.full { max-width: 100%; }

    p, figcaption { margin: 0 0 2.4rem 0; text-align: justify; text-indent: 4.2rem; }
    p.no-indent, figcaption.no-indent { text-indent: 0; }

    ::-moz-selection, ::selection { color: black; background: #ffcc22; }

    .background{ position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; }

    .title { position: relative; text-align: center; margin-bottom: 5rem; z-index: 15; }
    .title h1 { font-size: 15vw; margin: -4vw; text-shadow: 0.6vw 0.6vw 0vw #000; font-weight: 100; }
    .title h2 { font-size: 5.8vw; margin: -1vw; text-shadow: 0.3vw 0.3vw 0vw #000; font-weight: 100; text-align: right; margin: 0.4vw 8.05vw -0.6vw 8.05vw; }
    .title h3 { font-size: 5.5vw; text-align: left; margin: 7.1vw 8.05vw 0 8.05vw; color: #fff; text-shadow: 0.25vw 0.25vw 0vw #000; font-weight: 100; }
    .title .bottom { font-size: 3.2vw; text-align: right; margin: 0 8.15vw; }

    main { position: relative; width: min(120ch, 90vw); min-height: 100vw; margin: 0 auto;  }
    article { position: relative; color: rgba(245, 251, 255, 1); width: min(60ch, 45vw); margin: 0 auto 0 5%; z-index: 10; background: rgba(19, 19, 20, 0.8); -webkit-box-shadow: 0px 0px 15px 15px rgba(19, 19, 20, 0.8); box-shadow: 0px 0px 15px 15px rgba(19, 19, 20, 0.8); }
    .ship-skate { position: absolute; opacity: 0; max-width: 80vw; max-height: 90vh; z-index: 5; transition: 0.1s all ease; }
    .earth { position: relative; }

    label { font-size: 3rem; }
    input { width: calc(100% - 20px); border-radius: 5px; border: solid #000 1px; padding: 5px 10px; }
    input[type=submit] { background: rgba(38, 138, 192, 1); color: #000; width: auto; }
    
    @media only screen and (max-width: 1200px) {
      .ship-skate { position: initial; display: block; width: 100%; }
      .cta { grid-template-columns: 1fr; }
      article { width: 100%; margin: 0; }
    }

    /* IOS Only */
    @supports (-webkit-touch-callout: none) {
      html { background: #000; }
    }
  </style>
</head>
<body>
    <div class="content">
        <canvas class="background"></canvas>

        <section class="title">
        <h3>Will Brall</h3>
        <h1>Magitism</h1>
        <h2>the force of magic</h2>
        <h3 class="bottom">a Novel</h3>
        </section>

        <main>
            <article>
                <h4>Mailing List Signup!</h4>
                <p>
                    <?php 
                        $DB_USER = "magivslh_user";
                        $DB_PASSWORD = "DBwPBv+v?(gd";
                        $DB_DATABASE = "magivslh_author";
                        $DB_SERVER = "server321";

                        $mysqli = new mysqli($DB_SERVER, $DB_USER, $DB_PASSWORD, $DB_DATABASE);

                        $stmt = $mysqli->prepare("INSERT INTO `mailing_list` (`email`, `first_name`, `last_name`) VALUES (?, ?, ?)");

                        if(!isset($_POST['email'])){
                            echo 'Please enter an email.';
                        } else {
                            $email = $_POST['email'];

                            $first_name = "";
                            if(isset($_POST['first_name'])){
                                $first_name = preg_replace("/[^a-zA-Z0-9]+/", "", $_POST['first_name']);
                            }
                            
                            $last_name = "";
                            if(isset($_POST['last_name'])){
                                $last_name = preg_replace("/[^a-zA-Z0-9]+/", "", $_POST['last_name']);
                            }
                        
                            if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
                                echo 'The email you entered was invalid. Please try again.';
                            } else {
                                $stmt->bind_param("sss", $email, $first_name, $last_name);
                                $stmt->execute();

                                echo "Thank you for signing up!";
                            }
                        }
                    ?>
                </p>
                <a href="/index.html"><h3>Return</h3></a>
            </article>

            <h2 class="big">Buy Now!</h2>

            <div class="cta">
                <a class="hardcover" href="https://www.amazon.com/dp/B0BKR814NT">
                    <h3>Hardcover</h3>
                    <h4>$29.99</h4>
                    <img src="img/hardcover.png" alt="The book as a hardcover.">
                </a>
                <a class="paperback" href="https://www.amazon.com/dp/B0BQ5DJ39R">
                    <h3>Paperback</h3>
                    <h4>$14.99</h4>
                    <img src="img/paperback.png" alt="The book as a paperback.">
                </a>
                <a class="ebook" href="https://www.amazon.com/dp/B0BQ4WDN3B">
                    <h3>eBook</h3>
                    <h4>$3.99</h4>
                    <img src="img/ebook.png" alt="The book as seen on a tablet.">
                </a>
            </div>

            <img class="ship-skate" src="img/ship-skate.png" alt="A ship-skate hanging above Earth. It is a mile long, has an enormous iridescent crystal on its back, and is covered in triune-eye-tipped tentacles.">
        </main>

        <footer><img class="earth" src="img/earth-cover.png" alt="Earth from space."></footer>
    </div>

    <script>
        // Body Fade In
        const content = document.querySelector('.content');
        content.style.opacity = '0';

        setTimeout(function(){
            const fadetimer = setInterval(function(){
                content.style.opacity = +(content.style.opacity)+.02;
                if(content.style.opacity > 1){
                    clearInterval(fadetimer);
                }
            }, 10);
        }, 100);
    </script>
    <script type="text/javascript" src="main.js?v=3"></script>
</body>
</html>